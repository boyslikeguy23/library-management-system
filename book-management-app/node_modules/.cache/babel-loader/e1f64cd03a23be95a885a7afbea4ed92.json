{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rporter\\\\eclipse\\\\Management-System\\\\book-management-app\\\\src\\\\components\\\\bodyPage\\\\loginComponent.js\";\nimport { Component } from \"react\";\nimport AuthService from '../services/authService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class LoginComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.handleLogin = this.handleLogin.bind(this);\n    this.onChangeUsername = this.onChangeUsername.bind(this);\n    this.onChangePassword = this.onChangePassword.bind(this);\n    this.state = {\n      username: \"\",\n      password: \"\",\n      loading: false,\n      message: \"\"\n    };\n  }\n\n  onChangePassword(e) {\n    this.setState({\n      password: e.target.value\n    });\n  }\n\n  onChangeUsername(e) {\n    this.setState({\n      username: e.target.value\n    });\n  }\n\n  handleLogin(e) {\n    e.preventDefault();\n    this.setState({\n      message: \"\",\n      loading: true\n    });\n    this.form.validateAll();\n\n    if (this.checkBtn.context._errors.length === 0) {\n      AuthService.login(this.state.username, this.state.password).then(() => {\n        this.props.history.push(\"/dashboard\");\n        window.location.reload();\n      }, error => {\n        const resMessage = error.response && error.response.data && error.resposne.data.message || error.message || error.toString();\n        this.setState({\n          loading: false,\n          message: resMessage\n        });\n      });\n    } else {\n      this.setState({\n        loading: false\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"login page\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/rporter/eclipse/Management-System/book-management-app/src/components/bodyPage/loginComponent.js"],"names":["Component","AuthService","LoginComponent","constructor","props","handleLogin","bind","onChangeUsername","onChangePassword","state","username","password","loading","message","e","setState","target","value","preventDefault","form","validateAll","checkBtn","context","_errors","length","login","then","history","push","window","location","reload","error","resMessage","response","data","resposne","toString","render"],"mappings":";AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,OAAOC,WAAP,MAAwB,yBAAxB;;AAEA,eAAe,MAAMC,cAAN,SAA6BF,SAA7B,CAAuC;AAClDG,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;AACA,SAAKC,WAAL,GAAmB,KAAKA,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,CAAnB;AACA,SAAKC,gBAAL,GAAwB,KAAKA,gBAAL,CAAsBD,IAAtB,CAA2B,IAA3B,CAAxB;AACA,SAAKE,gBAAL,GAAwB,KAAKA,gBAAL,CAAsBF,IAAtB,CAA2B,IAA3B,CAAxB;AAEA,SAAKG,KAAL,GAAa;AACTC,MAAAA,QAAQ,EAAE,EADD;AAETC,MAAAA,QAAQ,EAAE,EAFD;AAGTC,MAAAA,OAAO,EAAE,KAHA;AAITC,MAAAA,OAAO,EAAE;AAJA,KAAb;AAMH;;AAEDL,EAAAA,gBAAgB,CAACM,CAAD,EAAI;AAChB,SAAKC,QAAL,CAAc;AACVJ,MAAAA,QAAQ,EAAEG,CAAC,CAACE,MAAF,CAASC;AADT,KAAd;AAGH;;AAEDV,EAAAA,gBAAgB,CAACO,CAAD,EAAI;AAChB,SAAKC,QAAL,CAAc;AACVL,MAAAA,QAAQ,EAAEI,CAAC,CAACE,MAAF,CAASC;AADT,KAAd;AAGH;;AAEDZ,EAAAA,WAAW,CAACS,CAAD,EAAG;AACVA,IAAAA,CAAC,CAACI,cAAF;AAEA,SAAKH,QAAL,CAAc;AACVF,MAAAA,OAAO,EAAE,EADC;AAEVD,MAAAA,OAAO,EAAE;AAFC,KAAd;AAKA,SAAKO,IAAL,CAAUC,WAAV;;AAEA,QAAG,KAAKC,QAAL,CAAcC,OAAd,CAAsBC,OAAtB,CAA8BC,MAA9B,KAAyC,CAA5C,EAA8C;AAC1CvB,MAAAA,WAAW,CAACwB,KAAZ,CAAkB,KAAKhB,KAAL,CAAWC,QAA7B,EAAuC,KAAKD,KAAL,CAAWE,QAAlD,EAA4De,IAA5D,CACI,MAAM;AACF,aAAKtB,KAAL,CAAWuB,OAAX,CAAmBC,IAAnB,CAAwB,YAAxB;AACAC,QAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACH,OAJL,EAKIC,KAAK,IAAI;AACL,cAAMC,UAAU,GACfD,KAAK,CAACE,QAAN,IACGF,KAAK,CAACE,QAAN,CAAeC,IADlB,IAEGH,KAAK,CAACI,QAAN,CAAeD,IAAf,CAAoBtB,OAFxB,IAGImB,KAAK,CAACnB,OAHV,IAIImB,KAAK,CAACK,QAAN,EALJ;AAOA,aAAKtB,QAAL,CAAc;AACVH,UAAAA,OAAO,EAAE,KADC;AAEVC,UAAAA,OAAO,EAAEoB;AAFC,SAAd;AAIH,OAjBL;AAmBH,KApBD,MAqBI;AACA,WAAKlB,QAAL,CAAc;AACVH,QAAAA,OAAO,EAAE;AADC,OAAd;AAGH;AACJ;;AAED0B,EAAAA,MAAM,GAAE;AACJ,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAGH;;AArEiD","sourcesContent":["import { Component } from \"react\";\r\nimport AuthService from '../services/authService'\r\n\r\nexport default class LoginComponent extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.handleLogin = this.handleLogin.bind(this);\r\n        this.onChangeUsername = this.onChangeUsername.bind(this);\r\n        this.onChangePassword = this.onChangePassword.bind(this);\r\n        \r\n        this.state = {\r\n            username: \"\",\r\n            password: \"\",\r\n            loading: false,\r\n            message: \"\"\r\n        };\r\n    }\r\n\r\n    onChangePassword(e) {\r\n        this.setState({\r\n            password: e.target.value\r\n        });\r\n    }\r\n\r\n    onChangeUsername(e) {\r\n        this.setState({\r\n            username: e.target.value\r\n        });\r\n    }\r\n\r\n    handleLogin(e){\r\n        e.preventDefault();\r\n\r\n        this.setState({\r\n            message: \"\",\r\n            loading: true\r\n        });\r\n\r\n        this.form.validateAll();\r\n\r\n        if(this.checkBtn.context._errors.length === 0){\r\n            AuthService.login(this.state.username, this.state.password).then(\r\n                () => {\r\n                    this.props.history.push(\"/dashboard\");\r\n                    window.location.reload();\r\n                },\r\n                error => {\r\n                    const resMessage =\r\n                    (error.response &&\r\n                        error.response.data &&\r\n                        error.resposne.data.message) ||\r\n                        error.message ||\r\n                        error.toString();\r\n                    \r\n                    this.setState({\r\n                        loading: false,\r\n                        message: resMessage\r\n                    });\r\n                }\r\n            );\r\n        }\r\n        else{\r\n            this.setState({\r\n                loading: false\r\n            });\r\n        }\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <div>login page</div>\r\n        );\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}